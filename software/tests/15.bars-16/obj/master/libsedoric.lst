ca65 V2.17 - Git 9299e550a
Main file   : obj/master/libsedoric.s1
Current file: obj/master/libsedoric.s1

000000r 1               ;
000000r 1               ; Generated with ap65 v 1.00
000000r 1               ;
000000r 1               .setcpu     "65816"
000000r 1               .smart      on
000000r 1               .autoimport on
000000r 1               .case       on
000000r 1               .importzp   sp, sreg, regsave, regbank
000000r 1               .importzp   tmp1, tmp2, tmp3, tmp4
000000r 1               .importzp   ptr1, ptr2, ptr3, ptr4
000000r 1               ;
000000r 1               _next_token =  $00e2
000000r 1               _exvec =  $02f5
000000r 1               _dosrom =  $04f2
000000r 1               _dosflag =  $04fc
000000r 1               _doserr =  $04fd
000000r 1               .code
000000r 1  00 00        _sed_fname: .byte 0,0
000002r 1  00 00        _sed_begin: .byte 0,0
000004r 1  00 00        _sed_end: .byte 0,0
000006r 1  00 00        _sed_size: .byte 0,0
000008r 1  00 00        _sed_err: .byte 0,0
00000Ar 1  xx xx xx xx  savebuf_zp: .res 256
00000Er 1  xx xx xx xx  
000012r 1  xx xx xx xx  
00010Ar 1               _sed_execfile:
00010Ar 1               
00010Ar 1  AD rr rr     lda _sed_fname
00010Dr 1  8D rr rr     sta __auto_exec_ptr+1
000110r 1  AD rr rr     lda _sed_fname+1
000113r 1  8D rr rr     sta __auto_exec_ptr+2
000116r 1  A0 00        ldy #$0
000118r 1               __auto_exec_ptr =  *
000118r 1               L_33_loop:
000118r 1  B9 0D F0     lda $f00d,y
00011Br 1  99 35 00     sta $35,y
00011Er 1  C8           iny
00011Fr 1  09 00        ora #$00
000121r 1  D0 F5        bne L_33_loop
000123r 1  85 EA        sta $ea
000125r 1  A9 35        lda #$35
000127r 1  85 E9        sta $e9
000129r 1  20 E2 00     jsr _next_token
00012Cr 1  6C F5 02     jmp (_exvec)
00012Fr 1               
00012Fr 1               _sed_savefile:
00012Fr 1               
00012Fr 1  98           tya
000130r 1  48           pha
000131r 1  20 rr rr     jsr sed_savezp
000134r 1  AD rr rr     lda _sed_fname
000137r 1  85 E9        sta $e9
000139r 1  AD rr rr     lda _sed_fname+1
00013Cr 1  85 EA        sta $ea
00013Er 1  20 F2 04     jsr _dosrom
000141r 1  A9 01        lda #1
000143r 1  85 0B        sta $0b
000145r 1  A9 00        lda #$00
000147r 1  8D 18 C0     sta $c018
00014Ar 1  18           clc
00014Br 1  A9 00        lda #$00
00014Dr 1  20 54 D4     jsr $d454
000150r 1  AD rr rr     lda _sed_begin
000153r 1  8D 52 C0     sta $c052
000156r 1  AD rr rr     lda _sed_begin+1
000159r 1  8D 53 C0     sta $c053
00015Cr 1  AD rr rr     lda _sed_end
00015Fr 1  8D 54 C0     sta $c054
000162r 1  AD rr rr     lda _sed_end+1
000165r 1  8D 55 C0     sta $c055
000168r 1  AD rr rr     lda _sed_begin
00016Br 1  8D 56 C0     sta $c056
00016Er 1  AD rr rr     lda _sed_begin+1
000171r 1  8D 57 C0     sta $c057
000174r 1  A9 00        lda #$00
000176r 1  8D 4D C0     sta $c04d
000179r 1  A9 40        lda #$40
00017Br 1  8D 4E C0     sta $c04e
00017Er 1  A9 40        lda #$40
000180r 1  8D 51 C0     sta $c051
000183r 1  20 0B DE     jsr $de0b
000186r 1  20 F2 04     jsr _dosrom
000189r 1  20 rr rr     jsr sed_restorezp
00018Cr 1  AD FD 04     lda _doserr
00018Fr 1  8D rr rr     sta _sed_err
000192r 1  AD FE 04     lda _doserr+1
000195r 1  8D rr rr     sta _sed_err+1
000198r 1  68           pla
000199r 1  A8           tay
00019Ar 1  60           rts
00019Br 1               
00019Br 1               _sed_loadfile:
00019Br 1               
00019Br 1  98           tya
00019Cr 1  48           pha
00019Dr 1  20 rr rr     jsr sed_savezp
0001A0r 1  AD rr rr     lda _sed_fname
0001A3r 1  85 E9        sta $e9
0001A5r 1  AD rr rr     lda _sed_fname+1
0001A8r 1  85 EA        sta $ea
0001AAr 1  20 F2 04     jsr _dosrom
0001ADr 1  A9 01        lda #1
0001AFr 1  85 0B        sta $0b
0001B1r 1  A9 00        lda #$00
0001B3r 1  8D 18 C0     sta $c018
0001B6r 1  18           clc
0001B7r 1  A9 00        lda #$00
0001B9r 1  20 54 D4     jsr $d454
0001BCr 1  AD rr rr     lda _sed_begin
0001BFr 1  8D 52 C0     sta $c052
0001C2r 1  AD rr rr     lda _sed_begin+1
0001C5r 1  8D 53 C0     sta $c053
0001C8r 1  A9 00        lda #$00
0001CAr 1  8D 4D C0     sta $c04d
0001CDr 1  A9 40        lda #$40
0001CFr 1  8D 4E C0     sta $c04e
0001D2r 1  20 E5 E0     jsr $e0e5
0001D5r 1  AD 52 C0     lda $c052
0001D8r 1  8D rr rr     sta _sed_begin
0001DBr 1  AD 53 C0     lda $c053
0001DEr 1  8D rr rr     sta _sed_begin+1
0001E1r 1  18           clc
0001E2r 1  AD 4F C0     lda $c04f
0001E5r 1  8D rr rr     sta _sed_size
0001E8r 1  6D rr rr     adc _sed_begin
0001EBr 1  8D rr rr     sta _sed_end
0001EEr 1  AD 50 C0     lda $c050
0001F1r 1  8D rr rr     sta _sed_size+1
0001F4r 1  6D rr rr     adc _sed_begin+1
0001F7r 1  8D rr rr     sta _sed_end+1
0001FAr 1  EE rr rr     inc _sed_size
0001FDr 1  D0 03        bne L_117_skip
0001FFr 1  EE rr rr     inc _sed_size+1
000202r 1               L_117_skip:
000202r 1  20 F2 04     jsr _dosrom
000205r 1  20 rr rr     jsr sed_restorezp
000208r 1  AD FD 04     lda _doserr
00020Br 1  8D rr rr     sta _sed_err
00020Er 1  AD FE 04     lda _doserr+1
000211r 1  8D rr rr     sta _sed_err+1
000214r 1  68           pla
000215r 1  A8           tay
000216r 1               
000216r 1               sed_savezp:
000216r 1               
000216r 1  A2 00        ldx #00
000218r 1               L_179_loop:
000218r 1  B5 00        lda $00,x
00021Ar 1  9D rr rr     sta savebuf_zp,x
00021Dr 1  CA           dex
00021Er 1  D0 F8        bne L_179_loop
000220r 1  60           rts
000221r 1               
000221r 1               sed_restorezp:
000221r 1               
000221r 1  A2 00        ldx #00
000223r 1               L_190_loop:
000223r 1  BD rr rr     lda savebuf_zp,x
000226r 1  95 00        sta $00,x
000228r 1  CA           dex
000229r 1  D0 F8        bne L_190_loop
00022Br 1  60           rts
00022Cr 1               
00022Cr 1               .export _next_token
00022Cr 1               .export _exvec
00022Cr 1               .export _dosrom
00022Cr 1               .export _dosflag
00022Cr 1               .export _doserr
00022Cr 1               .export _sed_fname
00022Cr 1               .export _sed_begin
00022Cr 1               .export _sed_end
00022Cr 1               .export _sed_size
00022Cr 1               .export _sed_err
00022Cr 1               .export _sed_execfile
00022Cr 1               .export __auto_exec_ptr
00022Cr 1               .export _sed_savefile
00022Cr 1               .export _sed_loadfile
00022Cr 1               
