ca65 V2.17 - Git 9299e550a
Main file   : obj/slave/slave.s1
Current file: obj/slave/slave.s1

000000r 1               ;
000000r 1               ; Generated with ap65 v 1.00
000000r 1               ;
000000r 1               .setcpu     "65816"
000000r 1               .smart      on
000000r 1               .autoimport on
000000r 1               .case       on
000000r 1               .importzp   sp, sreg, regsave, regbank
000000r 1               .importzp   tmp1, tmp2, tmp3, tmp4
000000r 1               .importzp   ptr1, ptr2, ptr3, ptr4
000000r 1               ;
000000r 1               .code
000000r 1               r_cls =  $ccce
000000r 1               r_print =  $ccb0
000000r 1               r_cload =  $e874
000000r 1               r_cstat =  $e5f5
000000r 1               r_pstat =  $e5ea
000000r 1               b_paper =  $026b
000000r 1               b_ink =  $026c
000000r 1               id_addr =  $edb0
000000r 1               _start:
000000r 1  78           sei
000001r 1  A9 10        lda #$10+0
000003r 1  8D 6B 02     sta b_paper
000006r 1  A9 07        lda #$07
000008r 1  8D 6C 02     sta b_ink
00000Br 1  20 CE CC     jsr r_cls
00000Er 1  A2 40        ldx #$40
000010r 1  A9 20        lda #$20
000012r 1               loop_1:
000012r 1  9D 7F BB     sta _scrn_ptr-1,x
000015r 1  CA           dex
000016r 1  D0 FA        bne loop_1
000018r 1  AD B0 ED     lda id_addr
00001Br 1  29 07        and #$07
00001Dr 1  8D rr rr     sta id
000020r 1  C9 04        cmp #$04
000022r 1  B0 0B        bcs _stop
000024r 1  0A           asl
000025r 1  A8           tay
000026r 1  B9 rr rr     lda jmptab,y
000029r 1  48           pha
00002Ar 1  B9 rr rr     lda jmptab+1,y
00002Dr 1  48           pha
00002Er 1  60           rts
00002Fr 1               _stop:
00002Fr 1  20 F5 E5     jsr r_cstat
000032r 1  A9 rr        lda #<(mhalt)
000034r 1  A0 rr        ldy #>(mhalt)
000036r 1  20 EA E5     jsr r_pstat
000039r 1  4C rr rr     jmp *
00003Cr 1               wait:
00003Cr 1  A9 00        lda #$00
00003Er 1  AA           tax
00003Fr 1  A8           tay
000040r 1               loop_wait:
000040r 1  EA           nop
000041r 1  EA           nop
000042r 1  EA           nop
000043r 1  EA           nop
000044r 1  EA           nop
000045r 1  EA           nop
000046r 1  EA           nop
000047r 1  EA           nop
000048r 1  88           dey
000049r 1  D0 F5        bne loop_wait
00004Br 1  CA           dex
00004Cr 1  D0 F2        bne loop_wait
00004Er 1  60           rts
00004Fr 1  00           id: .byte 0
000050r 1  00           tmp: .byte 0
000051r 1  0D 0A 00     crlf: .byte $0d, $0a, 0
000054r 1  10 01 4F 72  mhalt: .byte $10, $01, $4F,$72,$69,$63,$20,$68,$61,$6C,$74,$65,$64,0
000058r 1  69 63 20 68  
00005Cr 1  61 6C 74 65  
000062r 1  rr rr        jmptab: .byte >(_master-1),<(_master-1)
000064r 1  rr rr        .byte >(_slave_1-1),<(_slave_1-1)
000066r 1  rr rr        .byte >(_slave_2-1),<(_slave_2-1)
000068r 1  rr rr        .byte >(_slave_3-1),<(_slave_3-1)
00006Ar 1               _master:
00006Ar 1  A0 00        ldy #$00
00006Cr 1  A2 11        ldx #$11
00006Er 1  A9 04        lda #$04
000070r 1  8D rr rr     sta tmp
000073r 1               m_loop:
000073r 1  B9 rr rr     lda _scrn_lo,y
000076r 1  8D rr rr     sta m_ptr+1
000079r 1  B9 rr rr     lda _scrn_hi,y
00007Cr 1  8D rr rr     sta m_ptr+2
00007Fr 1  8A           txa
000080r 1               m_ptr:
000080r 1  8D 34 12     sta $1234
000083r 1  C8           iny
000084r 1  CE rr rr     dec tmp
000087r 1  D0 EA        bne m_loop
000089r 1  A9 04        lda #$04
00008Br 1  8D rr rr     sta tmp
00008Er 1  E8           inx
00008Fr 1  E0 18        cpx #$18
000091r 1  D0 E0        bne m_loop
000093r 1               forever:
000093r 1  20 rr rr     jsr _set_mix_b
000096r 1  20 rr rr     jsr wait
000099r 1  20 rr rr     jsr _set_mix_a
00009Cr 1  20 rr rr     jsr wait
00009Fr 1  4C rr rr     jmp forever
0000A2r 1  4C rr rr     jmp *
0000A5r 1               _slave_1:
0000A5r 1  A0 01        ldy #$01
0000A7r 1  A2 11        ldx #$11
0000A9r 1  A9 03        lda #$03
0000ABr 1  8D rr rr     sta tmp
0000AEr 1               s1_loop:
0000AEr 1  B9 rr rr     lda _scrn_lo,y
0000B1r 1  8D rr rr     sta s1_ptr+1
0000B4r 1  B9 rr rr     lda _scrn_hi,y
0000B7r 1  8D rr rr     sta s1_ptr+2
0000BAr 1  8A           txa
0000BBr 1               s1_ptr:
0000BBr 1  8D 34 12     sta $1234
0000BEr 1  C8           iny
0000BFr 1  CE rr rr     dec tmp
0000C2r 1  D0 EA        bne s1_loop
0000C4r 1  C8           iny
0000C5r 1  A9 03        lda #$03
0000C7r 1  8D rr rr     sta tmp
0000CAr 1  E8           inx
0000CBr 1  E0 18        cpx #$18
0000CDr 1  D0 DF        bne s1_loop
0000CFr 1  4C rr rr     jmp *
0000D2r 1               _slave_2:
0000D2r 1  A0 02        ldy #$02
0000D4r 1  A2 11        ldx #$11
0000D6r 1  A9 02        lda #$02
0000D8r 1  8D rr rr     sta tmp
0000DBr 1               s2_loop:
0000DBr 1  B9 rr rr     lda _scrn_lo,y
0000DEr 1  8D rr rr     sta s2_ptr+1
0000E1r 1  B9 rr rr     lda _scrn_hi,y
0000E4r 1  8D rr rr     sta s2_ptr+2
0000E7r 1  8A           txa
0000E8r 1               s2_ptr:
0000E8r 1  8D 34 12     sta $1234
0000EBr 1  C8           iny
0000ECr 1  CE rr rr     dec tmp
0000EFr 1  D0 EA        bne s2_loop
0000F1r 1  C8           iny
0000F2r 1  C8           iny
0000F3r 1  A9 02        lda #$02
0000F5r 1  8D rr rr     sta tmp
0000F8r 1  E8           inx
0000F9r 1  E0 18        cpx #$18
0000FBr 1  D0 DE        bne s2_loop
0000FDr 1  4C rr rr     jmp *
000100r 1               _slave_3:
000100r 1  A0 03        ldy #$03
000102r 1  A2 11        ldx #$11
000104r 1  A9 01        lda #$01
000106r 1  8D rr rr     sta tmp
000109r 1               s3_loop:
000109r 1  B9 rr rr     lda _scrn_lo,y
00010Cr 1  8D rr rr     sta s3_ptr+1
00010Fr 1  B9 rr rr     lda _scrn_hi,y
000112r 1  8D rr rr     sta s3_ptr+2
000115r 1  8A           txa
000116r 1               s3_ptr:
000116r 1  8D 34 12     sta $1234
000119r 1  C8           iny
00011Ar 1  CE rr rr     dec tmp
00011Dr 1  D0 EA        bne s3_loop
00011Fr 1  C8           iny
000120r 1  C8           iny
000121r 1  C8           iny
000122r 1  A9 01        lda #$01
000124r 1  8D rr rr     sta tmp
000127r 1  E8           inx
000128r 1  E0 18        cpx #$18
00012Ar 1  D0 DD        bne s3_loop
00012Cr 1  4C rr rr     jmp *
00012Fr 1               _scrn_ptr =  $bb80
00012Fr 1               _scrn_lo:
00012Fr 1  80           .byte <(_scrn_ptr+( 0*40))
000130r 1  A8           .byte <(_scrn_ptr+( 1*40))
000131r 1  D0           .byte <(_scrn_ptr+( 2*40))
000132r 1  F8           .byte <(_scrn_ptr+( 3*40))
000133r 1  20           .byte <(_scrn_ptr+( 4*40))
000134r 1  48           .byte <(_scrn_ptr+( 5*40))
000135r 1  70           .byte <(_scrn_ptr+( 6*40))
000136r 1  98           .byte <(_scrn_ptr+( 7*40))
000137r 1  C0           .byte <(_scrn_ptr+( 8*40))
000138r 1  E8           .byte <(_scrn_ptr+( 9*40))
000139r 1  10           .byte <(_scrn_ptr+( 10*40))
00013Ar 1  38           .byte <(_scrn_ptr+( 11*40))
00013Br 1  60           .byte <(_scrn_ptr+( 12*40))
00013Cr 1  88           .byte <(_scrn_ptr+( 13*40))
00013Dr 1  B0           .byte <(_scrn_ptr+( 14*40))
00013Er 1  D8           .byte <(_scrn_ptr+( 15*40))
00013Fr 1  00           .byte <(_scrn_ptr+( 16*40))
000140r 1  28           .byte <(_scrn_ptr+( 17*40))
000141r 1  50           .byte <(_scrn_ptr+( 18*40))
000142r 1  78           .byte <(_scrn_ptr+( 19*40))
000143r 1  A0           .byte <(_scrn_ptr+( 20*40))
000144r 1  C8           .byte <(_scrn_ptr+( 21*40))
000145r 1  F0           .byte <(_scrn_ptr+( 22*40))
000146r 1  18           .byte <(_scrn_ptr+( 23*40))
000147r 1  40           .byte <(_scrn_ptr+( 24*40))
000148r 1  68           .byte <(_scrn_ptr+( 25*40))
000149r 1  90           .byte <(_scrn_ptr+( 26*40))
00014Ar 1  B8           .byte <(_scrn_ptr+( 27*40))
00014Br 1               _scrn_hi:
00014Br 1  BB           .byte >(_scrn_ptr+( 0*40))
00014Cr 1  BB           .byte >(_scrn_ptr+( 1*40))
00014Dr 1  BB           .byte >(_scrn_ptr+( 2*40))
00014Er 1  BB           .byte >(_scrn_ptr+( 3*40))
00014Fr 1  BC           .byte >(_scrn_ptr+( 4*40))
000150r 1  BC           .byte >(_scrn_ptr+( 5*40))
000151r 1  BC           .byte >(_scrn_ptr+( 6*40))
000152r 1  BC           .byte >(_scrn_ptr+( 7*40))
000153r 1  BC           .byte >(_scrn_ptr+( 8*40))
000154r 1  BC           .byte >(_scrn_ptr+( 9*40))
000155r 1  BD           .byte >(_scrn_ptr+( 10*40))
000156r 1  BD           .byte >(_scrn_ptr+( 11*40))
000157r 1  BD           .byte >(_scrn_ptr+( 12*40))
000158r 1  BD           .byte >(_scrn_ptr+( 13*40))
000159r 1  BD           .byte >(_scrn_ptr+( 14*40))
00015Ar 1  BD           .byte >(_scrn_ptr+( 15*40))
00015Br 1  BE           .byte >(_scrn_ptr+( 16*40))
00015Cr 1  BE           .byte >(_scrn_ptr+( 17*40))
00015Dr 1  BE           .byte >(_scrn_ptr+( 18*40))
00015Er 1  BE           .byte >(_scrn_ptr+( 19*40))
00015Fr 1  BE           .byte >(_scrn_ptr+( 20*40))
000160r 1  BE           .byte >(_scrn_ptr+( 21*40))
000161r 1  BE           .byte >(_scrn_ptr+( 22*40))
000162r 1  BF           .byte >(_scrn_ptr+( 23*40))
000163r 1  BF           .byte >(_scrn_ptr+( 24*40))
000164r 1  BF           .byte >(_scrn_ptr+( 25*40))
000165r 1  BF           .byte >(_scrn_ptr+( 26*40))
000166r 1  BF           .byte >(_scrn_ptr+( 27*40))
000167r 1               .export _start
000167r 1               .export _stop
000167r 1               .export _master
000167r 1               .export _slave_1
000167r 1               .export _slave_2
000167r 1               .export _slave_3
000167r 1               .export _scrn_ptr
000167r 1               .export _scrn_lo
000167r 1               .export _scrn_hi
000167r 1               
