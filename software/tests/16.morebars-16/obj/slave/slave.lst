ca65 V2.17 - Git 9299e550a
Main file   : obj/slave/slave.s1
Current file: obj/slave/slave.s1

000000r 1               ;
000000r 1               ; Generated with ap65 v 1.00
000000r 1               ;
000000r 1               .setcpu     "65816"
000000r 1               .smart      on
000000r 1               .autoimport on
000000r 1               .case       on
000000r 1               .importzp   sp, sreg, regsave, regbank
000000r 1               .importzp   tmp1, tmp2, tmp3, tmp4
000000r 1               .importzp   ptr1, ptr2, ptr3, ptr4
000000r 1               ;
000000r 1               .code
000000r 1               r_cls =  $ccce
000000r 1               r_print =  $ccb0
000000r 1               r_cload =  $e874
000000r 1               r_cstat =  $e5f5
000000r 1               r_pstat =  $e5ea
000000r 1               b_paper =  $026b
000000r 1               b_ink =  $026c
000000r 1               id_addr =  $edb0
000000r 1               _start:
000000r 1  78           sei
000001r 1  D8           cld
000002r 1  A9 10        lda #$10+0
000004r 1  8D 6B 02     sta b_paper
000007r 1  A9 07        lda #$07
000009r 1  8D 6C 02     sta b_ink
00000Cr 1  20 CE CC     jsr r_cls
00000Fr 1  A2 27        ldx #39
000011r 1  A9 20        lda #$20
000013r 1               loop_1:
000013r 1  9D 80 BB     sta _scrn_ptr,x
000016r 1  CA           dex
000017r 1  10 FA        bpl loop_1
000019r 1  AD B0 ED     lda id_addr
00001Cr 1  29 07        and #$07
00001Er 1  8D rr rr     sta id
000021r 1  C9 04        cmp #$04
000023r 1  B0 0B        bcs _stop
000025r 1  0A           asl
000026r 1  A8           tay
000027r 1  B9 rr rr     lda jmptab,y
00002Ar 1  48           pha
00002Br 1  B9 rr rr     lda jmptab+1,y
00002Er 1  48           pha
00002Fr 1  60           rts
000030r 1               _stop:
000030r 1  20 F5 E5     jsr r_cstat
000033r 1  A9 rr        lda #<(mhalt)
000035r 1  A0 rr        ldy #>(mhalt)
000037r 1  20 EA E5     jsr r_pstat
00003Ar 1  4C rr rr     jmp *
00003Dr 1               wait:
00003Dr 1  A9 00        lda #$00
00003Fr 1  AA           tax
000040r 1  A8           tay
000041r 1               loop_wait:
000041r 1  EA           nop
000042r 1  EA           nop
000043r 1  EA           nop
000044r 1  EA           nop
000045r 1  EA           nop
000046r 1  EA           nop
000047r 1  EA           nop
000048r 1  EA           nop
000049r 1  88           dey
00004Ar 1  D0 F5        bne loop_wait
00004Cr 1  CA           dex
00004Dr 1  D0 F2        bne loop_wait
00004Fr 1  60           rts
000050r 1  00           id: .byte 0
000051r 1  00           tmp: .byte 0
000052r 1  0D 0A 00     crlf: .byte $0d, $0a, 0
000055r 1  10 01 4F 72  mhalt: .byte $10, $01, $4F,$72,$69,$63,$20,$68,$61,$6C,$74,$65,$64,0
000059r 1  69 63 20 68  
00005Dr 1  61 6C 74 65  
000063r 1  rr rr        jmptab: .byte >(_master-1),<(_master-1)
000065r 1  rr rr        .byte >(_slave_1-1),<(_slave_1-1)
000067r 1  rr rr        .byte >(_slave_2-1),<(_slave_2-1)
000069r 1  rr rr        .byte >(_slave_3-1),<(_slave_3-1)
00006Br 1               _master:
00006Br 1  20 rr rr     jsr wait
00006Er 1  20 rr rr     jsr wait
000071r 1  20 rr rr     jsr wait
000074r 1  A9 10        lda #$10
000076r 1               m_loop:
000076r 1  8D 6B 02     sta b_paper
000079r 1  20 CE CC     jsr r_cls
00007Cr 1  20 rr rr     jsr wait
00007Fr 1  20 rr rr     jsr _set_mix_b
000082r 1  20 rr rr     jsr wait
000085r 1  20 rr rr     jsr _set_mix_a
000088r 1  20 rr rr     jsr wait
00008Br 1  EE 6B 02     inc b_paper
00008Er 1  AD 6B 02     lda b_paper
000091r 1  C9 18        cmp #$18
000093r 1  D0 E1        bne m_loop
000095r 1  A9 10        lda #$10
000097r 1  8D 6B 02     sta b_paper
00009Ar 1  20 CE CC     jsr r_cls
00009Dr 1  4C rr rr     jmp *
0000A0r 1               _slave_1:
0000A0r 1  A0 01        ldy #$01
0000A2r 1  A2 10        ldx #$10
0000A4r 1  A9 03        lda #$03
0000A6r 1  8D rr rr     sta tmp
0000A9r 1               s1_loop:
0000A9r 1  B9 rr rr     lda _scrn_lo,y
0000ACr 1  8D rr rr     sta s1_ptr+1
0000AFr 1  B9 rr rr     lda _scrn_hi,y
0000B2r 1  8D rr rr     sta s1_ptr+2
0000B5r 1  8A           txa
0000B6r 1               s1_ptr:
0000B6r 1  8D 34 12     sta $1234
0000B9r 1  C8           iny
0000BAr 1  CE rr rr     dec tmp
0000BDr 1  D0 EA        bne s1_loop
0000BFr 1  A9 03        lda #$03
0000C1r 1  8D rr rr     sta tmp
0000C4r 1  E8           inx
0000C5r 1  E0 18        cpx #$18
0000C7r 1  D0 E0        bne s1_loop
0000C9r 1  A9 1C        lda #28
0000CBr 1  8D rr rr     sta tmp
0000CEr 1               s1_loopw:
0000CEr 1  20 rr rr     jsr wait
0000D1r 1  CE rr rr     dec tmp
0000D4r 1  D0 F8        bne s1_loopw
0000D6r 1  A9 10        lda #$10
0000D8r 1  8D 6B 02     sta b_paper
0000DBr 1  20 CE CC     jsr r_cls
0000DEr 1  4C rr rr     jmp *
0000E1r 1               _slave_2:
0000E1r 1  A0 00        ldy #$00
0000E3r 1               s2_loopy:
0000E3r 1  B9 rr rr     lda _scrn_lo+1,y
0000E6r 1  8D rr rr     sta s2_ptr+1
0000E9r 1  B9 rr rr     lda _scrn_hi+1,y
0000ECr 1  8D rr rr     sta s2_ptr+2
0000EFr 1  A2 00        ldx #$00
0000F1r 1               s2_loopx:
0000F1r 1  BD rr rr     lda s2_div8,x
0000F4r 1               s2_ptr:
0000F4r 1  9D 34 12     sta $1234,x
0000F7r 1  E8           inx
0000F8r 1  E0 28        cpx #$28
0000FAr 1  D0 F5        bne s2_loopx
0000FCr 1  C8           iny
0000FDr 1  C0 18        cpy #$18
0000FFr 1  D0 E2        bne s2_loopy
000101r 1  A9 1C        lda #28
000103r 1  8D rr rr     sta tmp
000106r 1               s2_loopw:
000106r 1  20 rr rr     jsr wait
000109r 1  CE rr rr     dec tmp
00010Cr 1  D0 F8        bne s2_loopw
00010Er 1  A9 10        lda #$10
000110r 1  8D 6B 02     sta b_paper
000113r 1  20 CE CC     jsr r_cls
000116r 1  4C rr rr     jmp *
000119r 1               s2_div8:
000119r 1  10 10 10 10  .byte $10,$10,$10,$10,$10
00011Dr 1  10           
00011Er 1  11 11 11 11  .byte $11,$11,$11,$11,$11
000122r 1  11           
000123r 1  12 12 12 12  .byte $12,$12,$12,$12,$12
000127r 1  12           
000128r 1  13 13 13 13  .byte $13,$13,$13,$13,$13
00012Cr 1  13           
00012Dr 1  14 14 14 14  .byte $14,$14,$14,$14,$14
000131r 1  14           
000132r 1  15 15 15 15  .byte $15,$15,$15,$15,$15
000136r 1  15           
000137r 1  16 16 16 16  .byte $16,$16,$16,$16,$16
00013Br 1  16           
00013Cr 1  17 17 17 17  .byte $17,$17,$17,$17,$17
000140r 1  17           
000141r 1               _slave_3:
000141r 1  4C rr rr     jmp *
000144r 1               _scrn_ptr =  $bb80
000144r 1               _scrn_lo:
000144r 1  80           .byte <(_scrn_ptr+( 0*40))
000145r 1  A8           .byte <(_scrn_ptr+( 1*40))
000146r 1  D0           .byte <(_scrn_ptr+( 2*40))
000147r 1  F8           .byte <(_scrn_ptr+( 3*40))
000148r 1  20           .byte <(_scrn_ptr+( 4*40))
000149r 1  48           .byte <(_scrn_ptr+( 5*40))
00014Ar 1  70           .byte <(_scrn_ptr+( 6*40))
00014Br 1  98           .byte <(_scrn_ptr+( 7*40))
00014Cr 1  C0           .byte <(_scrn_ptr+( 8*40))
00014Dr 1  E8           .byte <(_scrn_ptr+( 9*40))
00014Er 1  10           .byte <(_scrn_ptr+( 10*40))
00014Fr 1  38           .byte <(_scrn_ptr+( 11*40))
000150r 1  60           .byte <(_scrn_ptr+( 12*40))
000151r 1  88           .byte <(_scrn_ptr+( 13*40))
000152r 1  B0           .byte <(_scrn_ptr+( 14*40))
000153r 1  D8           .byte <(_scrn_ptr+( 15*40))
000154r 1  00           .byte <(_scrn_ptr+( 16*40))
000155r 1  28           .byte <(_scrn_ptr+( 17*40))
000156r 1  50           .byte <(_scrn_ptr+( 18*40))
000157r 1  78           .byte <(_scrn_ptr+( 19*40))
000158r 1  A0           .byte <(_scrn_ptr+( 20*40))
000159r 1  C8           .byte <(_scrn_ptr+( 21*40))
00015Ar 1  F0           .byte <(_scrn_ptr+( 22*40))
00015Br 1  18           .byte <(_scrn_ptr+( 23*40))
00015Cr 1  40           .byte <(_scrn_ptr+( 24*40))
00015Dr 1  68           .byte <(_scrn_ptr+( 25*40))
00015Er 1  90           .byte <(_scrn_ptr+( 26*40))
00015Fr 1  B8           .byte <(_scrn_ptr+( 27*40))
000160r 1               _scrn_hi:
000160r 1  BB           .byte >(_scrn_ptr+( 0*40))
000161r 1  BB           .byte >(_scrn_ptr+( 1*40))
000162r 1  BB           .byte >(_scrn_ptr+( 2*40))
000163r 1  BB           .byte >(_scrn_ptr+( 3*40))
000164r 1  BC           .byte >(_scrn_ptr+( 4*40))
000165r 1  BC           .byte >(_scrn_ptr+( 5*40))
000166r 1  BC           .byte >(_scrn_ptr+( 6*40))
000167r 1  BC           .byte >(_scrn_ptr+( 7*40))
000168r 1  BC           .byte >(_scrn_ptr+( 8*40))
000169r 1  BC           .byte >(_scrn_ptr+( 9*40))
00016Ar 1  BD           .byte >(_scrn_ptr+( 10*40))
00016Br 1  BD           .byte >(_scrn_ptr+( 11*40))
00016Cr 1  BD           .byte >(_scrn_ptr+( 12*40))
00016Dr 1  BD           .byte >(_scrn_ptr+( 13*40))
00016Er 1  BD           .byte >(_scrn_ptr+( 14*40))
00016Fr 1  BD           .byte >(_scrn_ptr+( 15*40))
000170r 1  BE           .byte >(_scrn_ptr+( 16*40))
000171r 1  BE           .byte >(_scrn_ptr+( 17*40))
000172r 1  BE           .byte >(_scrn_ptr+( 18*40))
000173r 1  BE           .byte >(_scrn_ptr+( 19*40))
000174r 1  BE           .byte >(_scrn_ptr+( 20*40))
000175r 1  BE           .byte >(_scrn_ptr+( 21*40))
000176r 1  BE           .byte >(_scrn_ptr+( 22*40))
000177r 1  BF           .byte >(_scrn_ptr+( 23*40))
000178r 1  BF           .byte >(_scrn_ptr+( 24*40))
000179r 1  BF           .byte >(_scrn_ptr+( 25*40))
00017Ar 1  BF           .byte >(_scrn_ptr+( 26*40))
00017Br 1  BF           .byte >(_scrn_ptr+( 27*40))
00017Cr 1               .export _start
00017Cr 1               .export _stop
00017Cr 1               .export _master
00017Cr 1               .export _slave_1
00017Cr 1               .export _slave_2
00017Cr 1               .export _slave_3
00017Cr 1               .export _scrn_ptr
00017Cr 1               .export _scrn_lo
00017Cr 1               .export _scrn_hi
00017Cr 1               
